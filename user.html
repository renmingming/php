<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button id="btn">获取全部数据</button>
<div class="user"></div>
</body>
<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
<script>
    $(function(){
        var id=[];
        $("#btn").click(function(){
            $.ajax({
                url:"userdata.php",
                type:"get",
                typedata:"json",
                success:function(data){
                    var aaaa="<table><tr><th>id</th><th>图片地址</th><th>姓名</th><th>年龄</th><th>性别</th><th>住址</th><th>密码</th></tr>";
//                    var json=eval("("+data+")");
                    var json=JSON.parse(data);
//                    alert(json.userData[2].name);
                    if(json.result=="success"){
                        alert("请求成功");
                    }
                    $.each(json.userData,function(key,value){
                        id.push(value.id);
                        aaaa +="<tr><td>"+value.id+"</td><td>"+value.img+"</td><td>"+value.name+"</td><td>"+value.age+"</td><td>"+value.xing+"</td><td>"+value.add+"</td><td>"+value.password+"</td><td><a href='javascript:;' onclick='show()'>删除</a></td></tr>";
                    })
                    aaaa +="</table>";
//
                    $(".user").html(aaaa);

                },
                error:function(){

                }
            })
        })
    })

    function show(){
        alert(1);
    }
</script>
</html>
